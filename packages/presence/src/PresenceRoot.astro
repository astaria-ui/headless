---
import type { HTMLAttributes } from "astro/types";
import { PresenceComponentNames } from "./constants/names";

interface Props extends HTMLAttributes<"div"> {
  present: boolean;
}

const Primitive = PresenceComponentNames.PresenceRoot;

const { present, ...rest } = Astro.props;
---

<template id="astaria-presence-root-template">
  <style>
    :host {
      display: contents; /* Important: Allows the host to not interfere with layout */
    }
    :host([present="false"]) {
      display: none;
    }
  </style>
  <slot></slot>
</template>

<astaria-presence-root {...rest} present={present}>
  <slot />
</astaria-presence-root>
